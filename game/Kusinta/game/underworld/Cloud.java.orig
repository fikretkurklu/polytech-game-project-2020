package underworld;

import java.awt.Image;


import automaton.Automaton;
import automaton.Category;
import automaton.Direction;
import game.Coord;
import environnement.Element;

public class Cloud extends Element{
	
	public static final int SIZE = 86;
	
	int m_width, m_height;
	int xMax, yMax;
	String imagePath;
	boolean outScreen; // Indique si le nuage n'est plus visible à l'écran

	public Cloud(Automaton automaton, Coord coord) {
		super(false, true, coord, automaton);
		m_width = 2 * SIZE;
		m_height = 2 * SIZE;
		xMax = getCoord().X() + m_width;
		yMax = getCoord().Y() + m_height;
		outScreen = false;
		imagePath = UnderworldParam.cloudImage[0];
		try {
			loadImage(imagePath, m_width, m_height);
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
	@Override
	public boolean cell(Direction dir, Category cat) {
		if ((dir.toString() == "H") && (cat.toString() == "O"))
			return getCoord().X() + m_width <= 0;
		return false;
	}
	
	@Override
	public boolean explode() {
		outScreen = true;
		return true;
	}
	
	
	@Override
	public boolean move(Direction dir) {
<<<<<<< HEAD
		getCoord().translateX(-2);
		xMax = getCoord().X() + m_width;
		yMax = getCoord().Y() + m_height;
=======
		getCoord().translateX(-1);
>>>>>>> 0c041e2f5844c1d9946c595eb73b8bf9a5c6725b
		return true;
	}
}
